<!DOCTYPE html>
<html>
<head>
<title>Skool Daze: Character buffers</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="CharacterBuffers">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Skool Daze" src="../images/logo-hex.png" /></a></td>
<td class="page-header">Character buffers</td>
</tr>
</table>
<p>The character buffers occupy bytes 0x60-0x7F in pages 0x98-0xAC.</p>
<table class="cbuffer">
<tr>
<th colspan="1" rowspan="1">Page</th>
<th colspan="1" rowspan="1">Address</th>
<th colspan="1" rowspan="1">Character</th>
<td class="transparent" colspan="1" rowspan="1"></td>
<th colspan="1" rowspan="1">Page</th>
<th colspan="1" rowspan="1">Address</th>
<th colspan="1" rowspan="1">Character</th>
<td class="transparent" colspan="1" rowspan="1"></td>
<th colspan="1" rowspan="1">Page</th>
<th colspan="1" rowspan="1">Address</th>
<th colspan="1" rowspan="1">Character</th>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x98</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9860.html">9860</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 1</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0x9F</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9F60.html">9F60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 8</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA6</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A660.html">A660</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">MR CREAK</td>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x99</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9960.html">9960</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 2</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA0</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A060.html">A060</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 9</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA7</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A760.html">A760</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">BOY WANDER</td>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x9A</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9A60.html">9A60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 3</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA1</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A160.html">A160</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 10</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA8</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A860.html">A860</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">ANGELFACE</td>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x9B</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9B60.html">9B60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 4</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA2</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A260.html">A260</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 11</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA9</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A960.html">A960</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">EINSTEIN</td>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x9C</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9C60.html">9C60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 5</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA3</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A360.html">A360</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">MR WACKER</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xAA</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/AA60.html">AA60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">BOY WANDER's pellet</td>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x9D</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9D60.html">9D60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 6</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA4</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A460.html">A460</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">MR ROCKITT</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xAB</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/AB60.html">AB60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">ERIC's pellet</td>
</tr>
<tr>
<td class="cbufPage" colspan="1" rowspan="1">0x9E</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/9E60.html">9E60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">Little boy no. 7</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xA5</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/A560.html">A560</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">MR WITHIT</td>
<td class="transparent" colspan="1" rowspan="1"></td>
<td class="cbufPage" colspan="1" rowspan="1">0xAC</td>
<td class="cbufAddress" colspan="1" rowspan="1"><a href="../asm/AC60.html">AC60</a></td>
<td class="cbufCharacter" colspan="1" rowspan="1">ERIC</td>
</tr>
</table>
<p>The bytes in each character buffer are used as follows:</p>
<table class="cbuffer">
<tr>
<th>Byte(s)</th>
<th>Contents</th>
</tr>
<tr>
<td class="cbufBytes" rowspan="1">0x60</td>
<td class="cbufByteDesc">
Animatory state
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x61,0x62</td>
<td class="cbufByteDesc">
Location (y,x)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="2">0x63</td>
<td class="cbufByteDesc">
LSB of the primary command routine address (see <a href="../asm/6226.html">6226</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride animatory state (see <a href="../asm/6500.html">6500</a>, <a href="../asm/653C.html">653C</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">0x64</td>
<td class="cbufByteDesc">
MSB of the primary command routine address (see <a href="../asm/6226.html">6226</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride y-coordinate (see <a href="../asm/6500.html">6500</a>, <a href="../asm/653C.html">653C</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="3">0x65</td>
<td class="cbufByteDesc">
Destination y-coordinate (see <a href="../asm/69D2.html">69D2</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Walkabout event identifier (see <a href="../asm/62D7.html">62D7</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride x-coordinate (see <a href="../asm/6500.html">6500</a>, <a href="../asm/653C.html">653C</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">0x66</td>
<td class="cbufByteDesc">
Destination x-coordinate (see <a href="../asm/69D2.html">69D2</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's animatory state before he started firing the catapult, hitting, or
jumping (see <a href="../asm/F46E.html">F46E</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="1">0x67</td>
<td class="cbufByteDesc">
Number of mini-walkabouts remaining (see <a href="../asm/6B3D.html">6B3D</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x68</td>
<td class="cbufByteDesc">
Message repetition delay counter (see <a href="../asm/F800.html">F800</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x69,0x6A</td>
<td class="cbufByteDesc">
Interruptible subcommand routine address (see <a href="../asm/6226.html">6226</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="6">0x6B</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the message being written on a
blackboard or spoken (see <a href="../asm/70D2.html">70D2</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Walkabout destination x-coordinate (see <a href="../asm/6B32.html">6B32</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate increment to use while chasing ERIC (see <a href="../asm/7BFB.html">7BFB</a>, <a href="../asm/7C18.html">7C18</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of movements remaining to ascend or descend the staircase (see <a href="../asm/6390.html">6390</a>,
<a href="../asm/63BE.html">63BE</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of movements remaining to wipe the blackboard (see <a href="../asm/71E8.html">71E8</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Intermediate destination x-coordinate (see <a href="../asm/633C.html">633C</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="4">0x6C</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the message being written on a
blackboard or spoken (see <a href="../asm/70D2.html">70D2</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
y-coordinate increment to use while chasing ERIC (see <a href="../asm/7BFB.html">7BFB</a>, <a href="../asm/7C18.html">7C18</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate of the next column of the board to wipe (see <a href="../asm/71E8.html">71E8</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of paces remaining until the next command list restart request check
(see <a href="../asm/633C.html">633C</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">0x6D</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the submessage being written on a
blackboard or spoken (see <a href="../asm/70D2.html">70D2</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
y-coordinate of the top row of the blackboard being wiped (see <a href="../asm/71E8.html">71E8</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="1">0x6E</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the submessage being written on a
blackboard or spoken (see <a href="../asm/70D2.html">70D2</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x6F,0x70</td>
<td class="cbufByteDesc">
Uninterruptible subcommand routine address (see <a href="../asm/6226.html">6226</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="4">0x71</td>
<td class="cbufByteDesc">
Counter determining how much longer the character will stay down after being
punched (see <a href="../asm/6F99.html">6F99</a>), hit by a catapult pellet (see <a href="../asm/6D1C.html">6D1C</a>), knocked out of a
chair (see <a href="../asm/6C55.html">6C55</a>), or tripped up by a stampeding kid (see <a href="../asm/69F6.html">69F6</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Distance remaining for the pellet to travel (see <a href="../asm/6D1C.html">6D1C</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ANGELFACE's pre-punch animatory state (see <a href="../asm/6F1E.html">6F1E</a>, <a href="../asm/6FE2.html">6FE2</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
BOY WANDER's pre-fire animatory state (see <a href="../asm/702C.html">702C</a>, <a href="../asm/7072.html">7072</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="1">0x72</td>
<td class="cbufByteDesc">
Pre-knockout animatory state (see <a href="../asm/6A46.html">6A46</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x73,0x74</td>
<td class="cbufByteDesc">
Unused
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x75,0x76</td>
<td class="cbufByteDesc">
Address reached in the command list
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x77,0x78</td>
<td class="cbufByteDesc">
Start address of the command list
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x79</td>
<td class="cbufByteDesc">
Unused (always 0x00, but checked by <a href="../asm/6226.html">6226</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x7A</td>
<td class="cbufByteDesc">
Various flags; initially populated by <a href="../asm/6900.html">6900</a> with 0x00 for kids, 0x10 (bit 4
set) for teachers, and 0x20 (bit 5 set) for catapult pellets:
<table class="default">
<tr>
<th colspan="1" rowspan="1">Bit(s)</th>
<th colspan="1" rowspan="1">Meaning if set</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0</td>
<td class="" colspan="1" rowspan="1">Restart the command list at the next opportunity if bit 1 is reset (see <a href="../asm/6226.html">6226</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">Always reset</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2-3</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="" colspan="1" rowspan="1">Character is a teacher (checked by <a href="../asm/6317.html">6317</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">5</td>
<td class="" colspan="1" rowspan="1">Character is walking fast continuously (set for pellets and stampeding boys; see <a href="../asm/6A6E.html">6A6E</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">6</td>
<td class="" colspan="1" rowspan="1">Character is walking slowly continuously (always reset, but checked by <a href="../asm/6317.html">6317</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">7</td>
<td class="" colspan="1" rowspan="1">Character is walking slowly (see <a href="../asm/62B2.html">62B2</a>)</td>
</tr>
</table>
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x7B</td>
<td class="cbufByteDesc">
Walking speed change delay counter (see <a href="../asm/62B2.html">62B2</a>, <a href="../asm/7DEA.html">7DEA</a>, <a href="../asm/7DF2.html">7DF2</a>, <a href="../asm/FA10.html">FA10</a>)
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x7C,0x7D</td>
<td class="cbufByteDesc">
Continual subcommand routine address (see <a href="../asm/6226.html">6226</a>); set to <a href="../asm/6226.html#629f">629F</a> initially by
<a href="../asm/6900.html">6900</a>
</td>
</tr>

<tr>
<td class="cbufBytes" rowspan="1">0x7E,0x7F</td>
<td class="cbufByteDesc">
Unused
</td>
</tr>

</table>
<footer>
<div class="release">The complete Skool Daze RAM disassembly 20200809</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd. &#169; 2020 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.2.</div>
<div><a href="../dec/buffers/cbuffer.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>