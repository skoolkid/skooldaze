<!DOCTYPE html>
<html>
<head>
<title>Skool Daze: Routine at 75CC</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Skool Daze" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="75B4.html">75B4</a></span></td>
<td class="up">Up: <a href="../maps/all.html#75cc">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="75FB.html">75FB</a></span></td>
</tr>
</table>
<div class="description">75CC: Print a reprimand message</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="7700.html">7700</a>. Generates the graphic data for the text of a reprimand message (e.g. 'NOW FIND A SEAT') in the buffer at <a href="EC00.html">EC00</a>, and then copies the buffer to the screen.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">A</td>
<td class="register-desc">Reprimand message identifier (0x00-0x0F)</td>
</tr>
<tr>
<td class="register">DE</td>
<td class="register-desc">Attribute file address</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="75cc"></span>75CC</td>
<td class="bytes-0"></td>
<td class="instruction">PUSH DE</td>
<td class="comment-11" rowspan="1">Save the attribute file address</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75cd"></span>75CD</td>
<td class="bytes-0"></td>
<td class="instruction">RRCA</td>
<td class="comment-11" rowspan="11">Point <span class="register">HL</span> at the appropriate message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75ce"></span>75CE</td>
<td class="bytes-0"></td>
<td class="instruction">RRCA</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75cf"></span>75CF</td>
<td class="bytes-0"></td>
<td class="instruction">LD H,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d0"></span>75D0</td>
<td class="bytes-0"></td>
<td class="instruction">AND $C0</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d2"></span>75D2</td>
<td class="bytes-0"></td>
<td class="instruction">SCF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d3"></span>75D3</td>
<td class="bytes-0"></td>
<td class="instruction">RRA</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d4"></span>75D4</td>
<td class="bytes-0"></td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d5"></span>75D5</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,H</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d6"></span>75D6</td>
<td class="bytes-0"></td>
<td class="instruction">AND $03</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75d8"></span>75D8</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,$DB</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75da"></span>75DA</td>
<td class="bytes-0"></td>
<td class="instruction">LD H,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="75db"></span>
<div class="comments">
<div class="paragraph">
Now <span class="register">HL</span> points at the appropriate message.
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1"><span class="register">A</span></th>
<th colspan="1" rowspan="1"><span class="register">HL</span></th>
<th colspan="1" rowspan="1">Message</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x00</td>
<td class="" colspan="1" rowspan="1"><a href="DB80.html">DB80</a></td>
<td class="" colspan="1" rowspan="1">DON'T SIT ON THE STAIRS</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x01</td>
<td class="" colspan="1" rowspan="1"><a href="DBA0.html">DBA0</a></td>
<td class="" colspan="1" rowspan="1">THE ROOM IS PRIVATE</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x02</td>
<td class="" colspan="1" rowspan="1"><a href="DBC0.html">DBC0</a></td>
<td class="" colspan="1" rowspan="1">GET TO WHERE YOU SHOULD BE</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x03</td>
<td class="" colspan="1" rowspan="1"><a href="DBE0.html">DBE0</a></td>
<td class="" colspan="1" rowspan="1">NOW FIND A SEAT</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x04</td>
<td class="" colspan="1" rowspan="1"><a href="DC80.html">DC80</a></td>
<td class="" colspan="1" rowspan="1">GET OFF THE FLOOR</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x05</td>
<td class="" colspan="1" rowspan="1"><a href="DCA0.html">DCA0</a></td>
<td class="" colspan="1" rowspan="1">COME ALONG WITH ME BOY</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x06</td>
<td class="" colspan="1" rowspan="1"><a href="DCC0.html">DCC0</a></td>
<td class="" colspan="1" rowspan="1">HURRY UP YOU HORROR</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x07</td>
<td class="" colspan="1" rowspan="1"><a href="DCE0.html">DCE0</a></td>
<td class="" colspan="1" rowspan="1">DON'T TRY MY PATIENCE BOY</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x08</td>
<td class="" colspan="1" rowspan="1"><a href="DD80.html">DD80</a></td>
<td class="" colspan="1" rowspan="1">NOW DON'T DO IT AGAIN</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x09</td>
<td class="" colspan="1" rowspan="1"><a href="DDA0.html">DDA0</a></td>
<td class="" colspan="1" rowspan="1">DON'T TELL TALES</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0A</td>
<td class="" colspan="1" rowspan="1"><a href="DDC0.html">DDC0</a></td>
<td class="" colspan="1" rowspan="1">NEVER BE LATE AGAIN</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0B</td>
<td class="" colspan="1" rowspan="1"><a href="DDE0.html">DDE0</a></td>
<td class="" colspan="1" rowspan="1">AND STAY THIS TIME</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0C</td>
<td class="" colspan="1" rowspan="1"><a href="DE80.html">DE80</a></td>
<td class="" colspan="1" rowspan="1">DON'T TOUCH BLACKBOARDS</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0D</td>
<td class="" colspan="1" rowspan="1"><a href="DEA0.html">DEA0</a></td>
<td class="" colspan="1" rowspan="1">CATAPULTS ARE FORBIDDEN</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0E</td>
<td class="" colspan="1" rowspan="1"><a href="DEC0.html">DEC0</a></td>
<td class="" colspan="1" rowspan="1">DON'T HIT YOUR MATES</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0F</td>
<td class="" colspan="1" rowspan="1"><a href="DEE0.html">DEE0</a></td>
<td class="" colspan="1" rowspan="1">YOU ARE NOT A KANGAROO</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75db"></span>75DB</td>
<td class="bytes-0"></td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1">Save the message address</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75dc"></span>75DC</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,$EC30</td>
<td class="comment-11" rowspan="1"><a href="EC00.html#ec30">EC30</a>=appropriate lines bubble graphic buffer address for the first line of the message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75df"></span>75DF</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="755A.html">$755A</a></td>
<td class="comment-11" rowspan="1">Write the first line of the message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75e2"></span>75E2</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="75B4.html">$75B4</a></td>
<td class="comment-11" rowspan="1">Draw the left and right edges of the bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75e5"></span>75E5</td>
<td class="bytes-0"></td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1">Restore the message address to <span class="register">HL</span></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75e6"></span>75E6</td>
<td class="bytes-0"></td>
<td class="instruction">LD A,L</td>
<td class="comment-11" rowspan="3">Point <span class="register">HL</span> at the second half of the message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75e7"></span>75E7</td>
<td class="bytes-0"></td>
<td class="instruction">ADD A,$10</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75e9"></span>75E9</td>
<td class="bytes-0"></td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75ea"></span>75EA</td>
<td class="bytes-0"></td>
<td class="instruction">LD DE,$EC70</td>
<td class="comment-11" rowspan="1"><a href="EC00.html#ec70">EC70</a>=appropriate lines bubble graphic buffer address for the second line of the message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75ed"></span>75ED</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="755A.html">$755A</a></td>
<td class="comment-11" rowspan="1">Write the second line of the message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75f0"></span>75F0</td>
<td class="bytes-0"></td>
<td class="instruction">CALL <a href="75B4.html">$75B4</a></td>
<td class="comment-11" rowspan="1">Draw the left and right edges of the bubble</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75f3"></span>75F3</td>
<td class="bytes-0"></td>
<td class="instruction">LD B,$00</td>
<td class="comment-11" rowspan="1">Prepare <span class="register">B</span> for the routine at <a href="7519.html#7531">7531</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75f5"></span>75F5</td>
<td class="bytes-0"></td>
<td class="instruction">LD HL,$EC18</td>
<td class="comment-11" rowspan="1"><a href="EC00.html#ec18">EC18</a>=first byte of the graphic data in the lines bubble graphic buffer</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="75f8"></span>75F8</td>
<td class="bytes-0"></td>
<td class="instruction">JP <a href="7519.html#7531">$7531</a></td>
<td class="comment-11" rowspan="1">Transfer the lines bubble graphic data to the screen (the lines bubble attribute bytes are already on-screen)</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="75B4.html">75B4</a></span></td>
<td class="up">Up: <a href="../maps/all.html#75cc">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="75FB.html">75FB</a></span></td>
</tr>
</table>
<footer>
<div class="release">The complete Skool Daze RAM disassembly 20190614</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd. &#169; 2019 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 7.2.</div>
<div><a href="../dec/asm/30156.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>