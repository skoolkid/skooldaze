<!DOCTYPE html>
<html>
<head>
<title>Skool Daze: Routine at 58604</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Skool Daze" src="../../images/logo-dec.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="58600.html">58600</a>
</td>
<td class="up">Up: <a href="../maps/all.html#58604">Map</a></td>
<td class="next">
Next: <a href="58623.html">58623</a>
</td>
</tr>
</table>
<div class="description">58604: Play the 'hit a shield' sound effect</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="28143.html">28143</a>.
</div>
<div class="paragraph">
<audio controls="" src="../../audio/shield.wav">
<p>Your browser doesn't support HTML5 audio. Here is a <a href="../../audio/shield.wav">link to the audio</a> instead.</p>
</audio>
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="58604"></span>58604</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts</td>
</tr>
<tr>
<td class="address-1"><span id="58605"></span>58605</td>
<td class="instruction">LD C,16</td>
<td class="comment-1" rowspan="1">There are 16 mini-sound effects in a row</td>
</tr>
<tr>
<td class="address-2"><span id="58607"></span>58607</td>
<td class="instruction">LD HL,65047</td>
<td class="comment-1" rowspan="3"><span class="register">A</span>=1 (initial border colour: blue), <span class="register">H</span>=254 (pitch adjustment), <span class="register">L</span>=23 (border alternates blue/yellow), <span class="register">D</span>=64 (duration), <span class="register">E</span>=0 (initial pitch)</td>
</tr>
<tr>
<td class="address-1"><span id="58610"></span>58610</td>
<td class="instruction">LD A,1</td>
</tr>
<tr>
<td class="address-1"><span id="58612"></span>58612</td>
<td class="instruction">LD DE,16384</td>
</tr>
<tr>
<td class="address-1"><span id="58615"></span>58615</td>
<td class="instruction">CALL <a href="65111.html#65122">65122</a></td>
<td class="comment-1" rowspan="1">Play one mini-sound effect with these parameters</td>
</tr>
<tr>
<td class="address-1"><span id="58618"></span>58618</td>
<td class="instruction">DEC C</td>
<td class="comment-1" rowspan="1">Next mini-sound effect</td>
</tr>
<tr>
<td class="address-1"><span id="58619"></span>58619</td>
<td class="instruction">JR NZ,58607</td>
<td class="comment-1" rowspan="1">Jump back until all 16 have been done</td>
</tr>
<tr>
<td class="address-1"><span id="58621"></span>58621</td>
<td class="instruction">EI</td>
<td class="comment-1" rowspan="1">Re-enable interrupts</td>
</tr>
<tr>
<td class="address-1"><span id="58622"></span>58622</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="58600.html">58600</a>
</td>
<td class="up">Up: <a href="../maps/all.html#58604">Map</a></td>
<td class="next">
Next: <a href="58623.html">58623</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Skool Daze RAM disassembly 20221122</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd. &#169; 2022 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.8.</div>
<div><a href="../../asm/E4EC.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>